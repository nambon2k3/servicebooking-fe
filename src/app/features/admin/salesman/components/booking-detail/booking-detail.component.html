<!-- <div
    class="bg-yellow-100 p-4 rounded pb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0">
    <div>
        <div class="flex items-center text-2xl gap-4 font-semibold mb-5">
            <h1 class=" text-gray-800">{{bookingDetail?.tour?.name}} ></h1>
            <div class="text-gray-600">Mã Booking: {{bookingDetail?.bookingCode}} | Khởi hành:
                {{bookingDetail?.schedule?.startDate | date: 'dd-MM-yyyy'}}</div>
        </div>
        <div class="flex space-x-2 text-lg text-gray-600 mt-1">
            <span class="pr-5">Ngày tạo: {{bookingDetail?.createdAt | date: 'dd-MM-yyyy'}}</span> |
            <span class="px-5">Loại Booking: {{bookingDetail?.tourBookingCategory}}</span> |
            <span class="px-5">Trạng thái: 
                @if(bookingDetail?.status === 'PENDING') {
                <span
                    class="inline-flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                    <span class="w-2 h-2 me-1 bg-blue-500 rounded-full"></span>
                    {{bookingDetail?.status}}
                </span>
                }
                @if(bookingDetail?.status === 'SUCCESS') {
                    <span
                        class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                        <span class="w-2 h-2 me-1 bg-green-500 rounded-full"></span>
                        {{bookingDetail?.status}}
                    </span>
                    }
            </span> 
        </div>
    </div>
    <div class="text-right">
        <button class="flex items-center px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300">
            &lt; Quay lại danh sách
        </button>
      </div>
</div> -->


<div class="grid grid-cols-12 h-full bg-gray-200 gap-4" [class]="isLoading ? 'opacity-50' : ''">
    <app-spinner [isLoading]="isLoading"></app-spinner>
    <div class="col-span-12 bg-white">
        <div class="flex items-center justify-between mt-4 px-5 py-4">
            <!-- Left: Title -->
            <h2 class="text-lg font-semibold text-gray-700">Chi tiết đơn hàng</h2>

            <!-- Right: Actions -->
            <div class="flex space-x-2">
                <a class="flex items-center px-4 py-2 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300"
                    [routerLink]=" ['../../tour-list-booking/', bookingDetail?.tour?.id, bookingDetail?.schedule?.scheduleId]">
                    &lt; Quay lại danh sách
                </a>

                @if(!bookingDetail?.status.includes('CANCEL') && bookingDetail?.status !== 'COMPLETED') {
                <button type="button" data-modal-target="cancel-booking-modal" data-modal-toggle="cancel-booking-modal"
                    class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4  focus:outline-none focus:ring-red-300 font-medium rounded text-sm px-5 py-2.5 text-center">
                    Hủy Đơn hàng
                </button>
                }


                @if(bookingDetail?.status === 'PENDING' && bookingDetail?.schedule?.availableSeats >=
                bookingDetail?.seats) {
                <button (click)="successBooking()" type="button"
                    class="flex items-center px-4 py-2 bg-green-600 text-white text-sm rounded hover:bg-blue-700">
                    Chuyển thành công
                </button>
                }

                @if((bookingDetail?.status === 'PENDING' || bookingDetail?.status === 'SUCCESS') &&
                bookingDetail?.tour?.tourType === 'SIC') {
                <button (click)="openForwardBookingModal()" type="button"
                    class="flex items-center px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">
                    Chuyển booking
                </button>
                }
            </div>
        </div>
    </div>

    <div class="col-span-12">
        <div class="flex items-center justify-between p-3 rounded">
            <div class="text-sm font-medium text-gray-700 flex items-center space-x-2">
                <span>Mã đơn: <span class="font-semibold">{{bookingDetail?.bookingCode}}</span></span>
                <span class="bg-yellow-200 text-yellow-800 px-2 py-0.5 rounded text-xs">
                    @if(bookingDetail?.status === 'PENDING') {
                    Đang xử lý
                    }
                    @if(bookingDetail?.status === 'SUCCESS') {
                    Thành công
                    }
                </span>
            </div>

            <!-- Buttons Group -->
            <div class="flex space-x-2">
                <button type="button" *ngIf="bookingDetail?.tour?.tourType !== 'SIC'" (click)="openPriceModal()"
                    class="flex items-center px-3 py-1.5 bg-blue-800 text-white text-sm rounded hover:bg-blue-900">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 12H8m0 0l4-4m-4 4l4 4" />
                    </svg>
                    Gửi email báo giá
                </button>
                <button [routerLink]=" ['/salesman/tour-booking-service/', bookingDetail?.id]"
                    class="flex items-center px-3 py-1.5 bg-blue-800 text-white text-sm rounded hover:bg-blue-900">
                    Dịch vụ trong tour
                </button>
            </div>
        </div>
    </div>

    <div class="col-span-9 flex flex-col gap-4 p-4 pt-0">

        <div id="cancel-booking-modal" tabindex="-1" aria-hidden="true"
            class="hidden overflow-y-hidden overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
            <div class="relative p-4 w-full max-w-2xl max-h-full">
                <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
                    <div
                        class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                            Thông tin hủy
                        </h3>
                        <button type="button"
                            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                            data-modal-hide="cancel-booking-modal">
                            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 14 14">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                            </svg>
                            <span class="sr-only">Đóng modal</span>
                        </button>
                    </div>
                    <div class="p-4 md:p-5 space-y-4">
                        <form [formGroup]="cancelBookingForm" class="mx-auto">
                            <label for="message"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Phương thức
                                hủy</label>
                            <select id="message" formControlName="status"
                                class="block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                <option value="REQUEST_CANCELLED_WITH_REFUND">Hoàn tiền</option>
                                <option value="CANCELLED_WITHOUT_REFUND">Không hoàn tiền</option>
                            </select>

                            <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Lý
                                do</label>
                            <textarea id="message" rows="4" formControlName="reason"
                                class="block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                placeholder="Nhập lý do..."></textarea>
                        </form>
                    </div>
                    <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                        <button data-modal-hide="cancel-booking-modal" type="button" (click)="cancelBooking()"
                            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            Xác nhận
                        </button>
                        <button data-modal-hide="cancel-booking-modal" type="button"
                            class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                            Thoát
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white p-4  mt-4">
            <h2 class="text-lg font-semibold">Thông tin khách hàng</h2>
            <div class="flex items-center space-x-4">
                <img class="w-32 h-32 flex items-center justify-center rounded-md" [src]="bookedPerson?.avatarImage"
                    alt="">
                <div>
                    <table class="w-full border-collapse">
                        <tbody class="space-y-4">
                            <tr class="pb-4">
                                <td class="p-2 font-semibold">Tên khách hàng:</td>
                                <td class="p-2">
                                    {{bookedPerson?.fullName}}
                                </td>
                            </tr>
                            <tr class="pb-4">
                                <td class="p-2 font-semibold">Điện thoại:</td>
                                <td class="p-2">
                                    {{bookedPerson?.phoneNumber}}
                                </td>
                            </tr>
                            <tr class="pb-4">
                                <td class="p-2 font-semibold">Email:</td>
                                <td class="p-2">
                                    {{bookedPerson?.email}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="bg-white p-4  mt-4">
            <div class="flex justify-between items-center py-5">
                <h2 class="text-sm font-semibold">Danh sách khách hàng</h2>
                @if(!bookingDetail?.status.includes('CANCEL') && bookingDetail?.status !== 'COMPLETED') {
                <button data-modal-target="customers-modal" data-modal-toggle="customers-modal"
                    class="px-4 py-2 text-sm bg-blue-700 text-white rounded-md hover:bg-blue-800 flex items-center gap-2">
                    <svg class="w-5 h-5 text-white-800 dark:text-white" aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 13v-2a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L14 4.757V4a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L4.929 6.343a1 1 0 0 0 0 1.414l.536.536L4.757 10H4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535 1.707.707V20a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H20a1 1 0 0 0 1-1Z" />
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                    </svg>
                    Cập Nhật
                </button>
                }

            </div>
            <div id="customers-modal" tabindex="-1" aria-hidden="false"
                class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative p-4 w-full max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
                        <!-- Modal header -->
                        <div
                            class="flex items-center justify-between p-4 md:p-5 border-b dark:border-gray-600 border-gray-200">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                                Danh sách khách hàng
                            </h3>
                            <button type="button"
                                class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                                data-modal-hide="customers-modal">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                </svg>
                                <span class="sr-only">Close modal</span>
                            </button>
                        </div>
                        <form [formGroup]="customerForm" class="space-y-6" (ngSubmit)="onSubmit()">
                            <!-- Modal body -->
                            <div class="p-4 md:p-5 space-y-4">

                                <div formArrayName="customers">
                                    <table
                                        class="min-w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                                        <thead>
                                            <tr class="bg-green-100 text-left">
                                                <th class="border px-2 py-2">#</th>
                                                <th class="border px-2 py-2">Họ và tên *</th>
                                                <th class="border px-2 py-2">Ngày Sinh</th>
                                                <th class="border px-2 py-2 min-w-[100px]">Giới Tính *</th>
                                                <th class="border px-2 py-2 min-w-[70px]">Loại Khách *</th>
                                                <th class="border px-2 py-2">Email</th>
                                                <th class="border px-2 py-2">Điện Thoại</th>
                                                <th class="border px-2 py-2">Địa Chỉ</th>
                                                <th class="border px-2 py-2">Điểm đón</th>
                                                <th class="border px-2 py-2">Note</th>
                                                <th class="border px-2 py-2">Phòng Đơn</th>
                                                <th class="border px-2 py-2 min-w-[100px]">Trạng Thái</th>
                                                <th class="border px-2 py-2">Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let customer of customersFormArray.controls; let i = index"
                                                [formGroupName]="i">

                                                <!-- Index -->
                                                <td class="px-2 py-2 text-center">{{ i + 1 }}</td>

                                                <!-- Full Name -->
                                                <td class="px-2 py-2">
                                                    <input formControlName="fullName" type="text"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- DOB -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="dateOfBirth" type="date"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Gender -->
                                                <td class=" px-2 py-2">
                                                    <select formControlName="gender"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300">
                                                        <option value="MALE">Nam</option>
                                                        <option value="FEMALE">Nữ</option>
                                                    </select>
                                                </td>

                                                <!-- Age Type -->
                                                <td class=" px-2 py-2">
                                                    <select formControlName="ageType"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300">
                                                        <option value="ADULT">Người Lớn</option>
                                                        <option value="CHILDREN">Trẻ em</option>
                                                    </select>
                                                </td>

                                                <!-- Email -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="email" type="email"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Phone -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="phoneNumber" type="text"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Address -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="address" type="text"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Pick-up -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="pickUpLocation" type="text"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Note -->
                                                <td class=" px-2 py-2">
                                                    <input formControlName="note" type="text"
                                                        class="w-full border rounded px-2 py-1 focus:ring focus:ring-blue-300" />
                                                </td>

                                                <!-- Single Room -->
                                                <td class=" px-2 py-2 text-center">
                                                    <!-- <label 
                                                        class="inline-flex items-center cursor-pointer justify-center">
                                                        <input type="checkbox" value="" class="sr-only peer"
                                                            formControlName="singleRoom">
                                                        <div
                                                            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600">
                                                        </div>

                                                    </label> -->

                                                    @if(customer.get('ageType')?.value === 'ADULT') {
                                                    <label
                                                        class="inline-flex items-center cursor-pointer justify-center">
                                                        <input type="checkbox" value="" class="sr-only peer"
                                                            formControlName="singleRoom">
                                                        <div
                                                            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 dark:peer-checked:bg-blue-600">
                                                        </div>

                                                    </label>
                                                    } @else {
                                                    <input type="hidden" value="false" formControlName="singleRoom">
                                                    }


                                                </td>

                                                <td class=" px-2 py-2 w-fit">
                                                    <span *ngIf="customer?.getRawValue()?.deleted; else activeStatus"
                                                        class="inline-flex items-center bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                                                        <span class="w-fit h-2 me-1 bg-red-500 rounded-full"></span>
                                                        Đã hủy
                                                    </span>

                                                    <ng-template #activeStatus>
                                                        <span
                                                            class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                                                            <span class="w-2 h-2 me-1 bg-green-500 rounded-full"></span>
                                                            <span>Tham Gia</span>
                                                        </span>
                                                    </ng-template>
                                                </td>

                                                <td class=" px-2 py-2 text-center">
                                                    <button type="button" (click)="showConfirmModal(i)"
                                                        class="text-xs text-red-600 hover:text-white border hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded px-3 py-1 transition">
                                                        <span *ngIf="!customer?.get('deleted')?.value">
                                                            <svg class="w-6 h-6 text-gray-800 dark:text-white"
                                                                aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                                width="24" height="24" fill="none" viewBox="0 0 24 24">
                                                                <path stroke="currentColor" stroke-linecap="round"
                                                                    stroke-linejoin="round" stroke-width="2"
                                                                    d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z" />
                                                            </svg>
                                                        </span>
                                                        <span *ngIf="customer?.get('deleted')?.value">
                                                            <svg class="w-6 h-6 text-gray-800 dark:text-white"
                                                                aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                                                width="24" height="24" fill="none" viewBox="0 0 24 24">
                                                                <path stroke="currentColor" stroke-linecap="round"
                                                                    stroke-linejoin="round" stroke-width="2"
                                                                    d="M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4" />
                                                            </svg>
                                                        </span>
                                                    </button>


                                                    @if(showWarning) {
                                                    <!-- Warning Notification (Only One at a Time) -->
                                                    <div tabindex="-1"
                                                        class="overflow-y-auto overflow-x-hidden fixed top-0 left-0 right-0 z-50 flex justify-center items-center w-full h-full text-center">
                                                        <div class="relative p-4 w-full max-w-md max-h-full">
                                                            <div
                                                                class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
                                                                <button type="button" (click)="closeConfirmModal()"
                                                                    class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                                                                    data-modal-hide="popup-modal">
                                                                    <svg class="w-3 h-3" aria-hidden="true"
                                                                        xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                        viewBox="0 0 14 14">
                                                                        <path stroke="currentColor"
                                                                            stroke-linecap="round"
                                                                            stroke-linejoin="round" stroke-width="2"
                                                                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                                                    </svg>
                                                                    <span class="sr-only">Close modal</span>

                                                                </button>
                                                                <div class="p-4 md:p-5 text-center">
                                                                    <svg class="mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200"
                                                                        aria-hidden="true"
                                                                        xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                        viewBox="0 0 20 20">
                                                                        <path stroke="currentColor"
                                                                            stroke-linecap="round"
                                                                            stroke-linejoin="round" stroke-width="2"
                                                                            d="M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                                                                    </svg>
                                                                    <h3
                                                                        class="mb-5 text-lg font-normal text-gray-500 dark:text-gray-400">
                                                                        Xác nhận thay đổi trạng thái của khách hàng?
                                                                    </h3>
                                                                    <button data-modal-hide="popup-modal" type="button"
                                                                        (click)="deleteCustomer()"
                                                                        class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center">
                                                                        Xác nhận
                                                                    </button>
                                                                    <button data-modal-hide="popup-modal" type="button"
                                                                        (click)="closeConfirmModal()"
                                                                        class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100">
                                                                        Hủy
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    }
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div>
                                    <button type="button" [disabled]="customersFormArray.length >= maxPax"
                                        class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"
                                        (click)="addCustomer(1)">
                                        Thêm Dòng
                                    </button>

                                    <span *ngIf="customersFormArray.length >= maxPax"
                                        class="text-red-500 text-sm font-semibold">Số lượng khách hàng đã đạt giới
                                        hạn</span>

                                    <span class="text-red-500 text-sm font-semibold">

                                    </span>

                                </div>

                            </div>
                            <!-- Modal footer -->
                            <div
                                class="flex items-center justify-end p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                                <button type="submit"
                                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">
                                    Lưu
                                </button>
                                <button data-modal-hide="customers-modal" type="button" (click)="closeConfirmModal()"
                                    class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100">
                                    Đóng
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <table class="w-full mt-2 border-collapse">
                <thead>
                    <tr class="text-left font-semibold border-b bg-green-50">
                        <th class="p-2">Tên khách hàng</th>
                        <th class="p-2">Điện thoại</th>
                        <th class="p-2">Ngày sinh</th>
                        <th class="p-2">Giới tính</th>
                        <th class="p-2">Loại</th>
                        <th class="p-2">Điểm đón</th>
                        <th class="p-2">Phòng Đơn</th>
                        <th class="p-2">Ghi chú</th>
                        <th class="p-2">Trạng Thái</th>

                    </tr>
                </thead>
                <tbody>

                    @for(customer of tourCustomers; track $index) {
                    <tr class="border-t">
                        <td class="p-2">
                            {{customer?.fullName}}
                        </td>
                        <td class="p-2">
                            @if(customer?.phoneNumber) {
                            {{customer?.phoneNumber}}
                            } @else {
                            <span class="text-gray-300 italic">Chưa cập Nhật</span>
                            }
                        </td>
                        <td class="p-2">
                            {{customer?.dateOfBirth | date: 'dd-MM-yyyy'}}
                        </td>
                        <td class="p-2">
                            {{customer?.gender === 'Male' ? 'Nam' : 'Nữ'}}
                        </td>
                        <td class="p-2">
                            {{customer?.ageType === 'ADULT' ? 'Người Lớn' : 'Trẻ Em'}}
                        </td>

                        <td class="p-2">
                            @if(customer?.pickUpLocation) {
                            {{customer?.pickUpLocation}}
                            } @else {
                            <span class="text-gray-300 italic">Chưa cập Nhật</span>
                            }
                        </td>
                        <td class="p-2">
                            {{customer?.singleRoom ? 'Có' : 'Không'}}
                        </td>
                        <td class="p-2">
                            @if(customer?.note) {
                            {{customer?.note}}
                            } @else {
                            <span class="text-gray-300 italic">Chưa cập Nhật</span>
                            }
                        </td>
                        <td class="p-2">
                            @if(customer?.deleted) {
                            <span
                                class="inline-flex items-center bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                                <span class="w-2 h-2 me-1 bg-red-500 rounded-full"></span>
                                Đã hủy
                            </span>
                            } @else {
                            <span
                                class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                                <span class="w-2 h-2 me-1 bg-green-500 rounded-full"></span>
                                Tham Gia
                            </span>
                            }
                        </td>

                    </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="bg-white p-4 mt-4 pb-12">
            <h2 class="text-lg font-semibold mb-5 border-b p-2">Thanh toán</h2>
            <div class="flex justify-between max-w-[80%] m-auto">
                <p class="flex flex-col justify-center items-center gap-4">
                    <span>KHÁCH PHẢI TRẢ</span> <span>{{bookingDetail?.total | currencyVnd}} </span>
                </p>
                <p class="flex flex-col justify-center items-center gap-4">
                    <span>ĐÃ THANH TOÁN</span> <span>{{bookingDetail?.paid | currencyVnd}}</span>
                </p>
                <p class="flex flex-col justify-center items-center gap-4">
                    <span>CÒN THIẾU</span> <span>{{remainingAmount | currencyVnd}}</span>
                </p>
                <p class="flex flex-col justify-center items-center gap-4">
                    <span>Tình Trạng</span>
                    <span>
                        @if(bookingDetail?.status.includes('CANCEL')) {
                        <span
                            class="inline-flex items-center bg-red-100 text-green-800 text-xs rounded-full font-medium px-2.5 py-0.5  dark:bg-green-900 dark:text-green-300">
                            <span class="w-2 h-2 me-1 bg-red-500 rounded-full"></span>
                            Đã hủy
                        </span>
                        }

                        @else if(remainingAmount === 0) {
                        <span
                            class="inline-flex items-center bg-green-100 text-green-800 text-xs rounded-full font-medium px-2.5 py-0.5  dark:bg-green-900 dark:text-green-300">
                            <span class="w-2 h-2 me-1 bg-green-500 rounded-full"></span>
                            Đã thanh toán
                        </span>
                        } @else if (remainingAmount == bookingDetail?.total) {
                        <span
                            class="inline-flex items-center bg-red-100 text-green-800 text-xs rounded-full font-medium px-2.5 py-0.5  dark:bg-green-900 dark:text-green-300">
                            <span class="w-2 h-2 me-1 bg-red-500 rounded-full"></span>
                            Chưa thanh toán
                        </span>
                        } @else {
                        <span
                            class="inline-flex items-center bg-red-100 text-green-800 text-xs rounded-full font-medium px-2.5 py-0.5  dark:bg-green-900 dark:text-green-300">
                            <span class="w-2 h-2 me-1 bg-red-500 rounded-full"></span>
                            Còn Thiếu Tiền
                        </span>
                        }


                    </span>
                </p>
            </div>
        </div>

        <div class="bg-white p-4 mt-4">
            <div class="flex justify-between items-center  border-b p-2">
                <h2 class="text-lg font-semibold">Biên lai</h2>
            </div>
            <table class="w-full mt-4 border-collapse">
                <thead class="bg-green-50">
                    <tr class="text-left font-semibold border-b">
                        <th class="p-2">ID</th>
                        <th class="p-2">Nội dung thanh toán</th>
                        <th class="p-2">Người thanh toán</th>
                        <th class="p-2">Ngày tạo</th>
                        <th class="p-2">Số tiền</th>
                        <th class="p-2">Còn lại</th>
                        <th class="p-2">Phương thức</th>
                        <th class="p-2 text-center">Hành động</th>
                    </tr>
                </thead>
                <tbody>

                    @for(transaction of bookingDetail?.transactions; track $index) {
                    <tr class="border-t">
                        <td class="p-2">
                            {{transaction?.id}}
                        </td>
                        <td class="p-2">
                            {{transaction?.notes}}
                        </td>
                        <td class="p-2">
                            {{transaction?.paidBy}}
                        </td>
                        <td class="p-2">
                            {{transaction?.createdAt | date: 'dd-MM-yyyy'}}
                        </td>
                        <td class="p-2">
                            {{transaction?.amount | currencyVnd}}
                        </td>

                        <td class="p-2" [innerText]="getRemainingAmount(transaction) | currencyVnd">

                        </td>

                        <td class="p-2">
                            @if(transaction?.paymentMethod === 'CASH') {
                            Tiền Mặt
                            } @else {
                            Chuyển khoản
                            }
                        </td>
                        <td class="flex items-center justify-center p-2">
                            <button type="button" class="m-auto hover:cursor-pointer"
                                (click)="openTransactionDetailModal(transaction)">
                                <svg class=" focus:outline-none w-6 h-6 text-gray-800 dark:text-white  "
                                    aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                    fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="2"
                                        d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z" />
                                    <path stroke="currentColor" stroke-width="2"
                                        d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                </svg>
                            </button>

                        </td>
                    </tr>
                    }

                </tbody>
            </table>
        </div>

    </div>
    <div class="col-span-3 h-fit pt-0 ">
        <div class="flex flex-col items-center justify-between mt-4 pt-0 px-5 py-4 gap-4">
            <div class="bg-white px-5 py-4 w-full">
                <h2 class="text-lg font-semibold text-center mb-4 border-b pb-5 text-gray-700">Thông tin đơn hàng</h2>

                <table class="w-full border-collapse">
                    <tbody class="space-y-4">

                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Phân Loại Booking</td>
                            <td class="p-2">
                                {{bookingDetail?.tourBookingCategory}}
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Tổng số khách hàng</td>
                            <td class="p-2">
                                {{bookingDetail?.seats}}
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Ngày đặt chỗ</td>
                            <td class="p-2 text-red-600">
                                {{bookingDetail?.createdAt | date: 'dd-MM-yyyy'}}
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Thời hạn thanh toán</td>
                            <td class="p-2 text-red-600">
                                {{bookingDetail?.expiredAt | date: 'dd-MM-yyyy'}}
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Trạng thái</td>
                            <td class="p-2">
                                @if(bookingDetail?.status === 'PENDING') {
                                <span
                                    class="inline-flex items-center bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
                                    <span class="w-2 h-2 me-1 bg-blue-500 rounded-full"></span>
                                    Chờ phê duyệt
                                </span>
                                }
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="bg-white px-5 py-4 w-full">
                <h2 class="text-lg font-semibold text-center mb-4 border-b pb-5 text-gray-700">Thông tin tour</h2>

                <table class="w-full border-collapse">
                    <tbody class="space-y-4">
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Danh mục</td>
                            <td class="p-2">
                                @if(bookingDetail?.tour?.tourType === 'SIC') {
                                Tour mở bán
                                } @else {
                                Tour đặt riêng
                                }
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold min-w-[150px]">Tên Tour</td>
                            <td class="p-2">
                                {{bookingDetail?.tour?.name}}
                            </td>
                        </tr>
                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Thời Lượng</td>
                            <td class="p-2">
                                {{bookingDetail?.tour?.numberDays}} Ngày
                                {{bookingDetail?.tour?.numberNights}} Đêm
                            </td>
                        </tr>


                        <tr class="pb-4">
                            <td class="p-2 font-semibold">Số chỗ còn lại</td>
                            <td class="p-2">
                                {{bookingDetail?.schedule?.availableSeats}}
                            </td>
                        </tr>

                        <tr class="border-b">
                            <td class="p-2 pb-5 font-semibold">Ngày Khởi Hành</td>
                            <td class="p-2 pb-5">
                                {{bookingDetail?.schedule?.startDate | date: 'dd-MM-yyyy'}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>





<div id="transaction-modal" tabindex="-1" aria-hidden="false"
    class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 w-full max-w-5xl max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b dark:border-gray-600 border-gray-200">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    Thông tin biên lai
                </h3>
                <button type="button" (click)="closeTransactionDetailModal()"
                    class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                    data-modal-hide="transaction-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>

            <div class="p-4 md:p-5 text-left">
                <table class="w-full border text-sm">
                    <tbody>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50 w-1/4">ID</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('id')?.value }}</td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Ngày tạo</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('createdAt')?.value | date:'short' }}
                            </td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Số tiền</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('amount')?.value | number }} đ</td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Loại</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('category')?.value === 'RECEIPT' ? 'Thu'
                                : 'Chi' }}</td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Người nộp</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('paidBy')?.value }}</td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Người nhận</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('receivedBy')?.value }}</td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Phương thức</td>
                            <td class="border px-2 py-2">
                                {{ transactionForm.get('paymentMethod')?.value === 'CASH' ? 'Tiền mặt' : 'Chuyển khoản'
                                }}
                            </td>
                        </tr>
                        <tr>
                            <td class="font-semibold border px-2 py-2 bg-gray-50">Ghi chú</td>
                            <td class="border px-2 py-2">{{ transactionForm.get('notes')?.value }}</td>
                        </tr>
                    </tbody>
                </table>

                <!-- Cost Account Table -->
                <h3 class="mt-6 font-semibold text-sm">Chi tiết hạch toán:</h3>
                <table class="w-full border text-sm mt-2">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="border px-2 py-1">Nội dung</th>
                            <th class="border px-2 py-1">Số tiền</th>
                            <th class="border px-2 py-1">Giảm giá</th>
                            <th class="border px-2 py-1">SL</th>
                            <th class="border px-2 py-1">Thành tiền</th>
                            <th class="border px-2 py-1">Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of costAccount.controls">
                            <td class="border px-2 py-1">{{ item.get('content')?.value }}</td>
                            <td class="border px-2 py-1">{{ item.get('amount')?.value | number }} đ</td>
                            <td class="border px-2 py-1">{{ item.get('discount')?.value | number }} đ</td>
                            <td class="border px-2 py-1">{{ item.get('quantity')?.value }}</td>
                            <td class="border px-2 py-1">{{ item.get('finalAmount')?.value | number }} đ</td>
                            <td class="border px-2 py-1">
                                <span
                                    [ngClass]="item.get('status')?.value === 'PAID' ? 'text-green-600' : 'text-red-600'">
                                    {{ item.get('status')?.value === 'PAID' ? 'Đã thanh toán' : 'Chưa thanh toán' }}
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- Back button -->
                <div class="flex justify-end mt-6">
                    <button class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded"
                        data-modal-hide="transaction-modal">Quay lại</button>
                </div>

            </div>

        </div>
    </div>
</div>

@if(showSuccess) {
<!-- Warning Notification (Only One at a Time) -->
<div class="fixed top-[5rem] left-1/2 transform -translate-x-1/2 z-50 w-80">
    <div class="flex items-center bg-white shadow-md border border-gray-200 rounded-md p-3 animate-slide-in">
        <span class="text-green-500 text-xl mr-2">✔</span>
        <p class="text-green-800 text-sm">
            {{ successMessage }}
        </p>
    </div>
</div>
}

@if(showError) {
<!-- Warning Notification (Only One at a Time) -->
<div class="fixed top-[5rem] left-1/2 transform -translate-x-1/2 z-50 w-80">
    <div class="flex items-center bg-white shadow-md border border-gray-200 rounded-md p-3 animate-slide-in">
        <span class="text-red-500 text-xl mr-2">X</span>
        <p class="text-red-800 text-sm">
            {{ errorMessage }}
    </div>
</div>
}



<!-- Main modal -->
<div id="forward-booking-modal" tabindex="-1" aria-hidden="true"
    class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative p-4 w-full max-w-2xl max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
            <!-- Modal header -->
            <div
                class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                    Chuyển booking
                </h3>
                <button type="button" (click)="closeForwardBookingModal()"
                    class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                    data-modal-hide="foward-booking-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5 space-y-4">
                <label for="category" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Chọn ngày
                    khởi hành khác *:</label>
                <select id="category" (change)="onChangeForwardSchedule($event)"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                    <option *ngFor="let schedule of forwardSchedules" [value]="schedule?.scheduleId">
                        {{schedule?.startDate | date: 'dd-MM-yyy'}} - {{schedule?.endDate | date: 'dd-MM-yyy'}} - Seats:
                        {{schedule?.availableSeats}}
                    </option>

                    <option *ngIf="forwardSchedules.length < 1" [value]="">
                        Không có ngày phù hợp
                    </option>
                </select>
            </div>
            <!-- Modal footer -->
            <div
                class="flex justify-end items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                <button data-modal-hide="foward-booking-modal" type="button" (click)="forwardBooking()"
                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                    Lưu
                </button>
                <button data-modal-hide="foward-booking-modal" type="button" (click)="closeForwardBookingModal()"
                    class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                    Hủy Bỏ
                </button>
            </div>
        </div>
    </div>
</div>




<!-- Modal -->
<div id="price-modal" tabindex="-1" aria-hidden="true"
    class="fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-gray-900 bg-opacity-50 hidden">
    <div class="relative w-full max-w-5xl bg-white rounded-lg shadow-lg">
        <!-- Modal Header -->
        <div class="flex items-center justify-between px-6 py-4 border-b">
            <h3 class="text-lg font-semibold">Gửi báo giá </h3>
            <button (click)="closePriceModal()" class="text-gray-500 hover:text-gray-700">
                ✖
            </button>
        </div>

        <!-- Modal Body -->
        <div class="p-6 space-y-4 h-[600px] overflow-y-auto">
            <form [formGroup]="sendMailForm" class="space-y-4">

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Gửi đến:</label>
                    <input type="text" class="w-full p-2 border rounded-md bg-gray-200" formControlName="email">
                </div>

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Tiêu đề:</label>
                    <input type="text" class="w-full p-2 border rounded-md bg-gray-200" formControlName="subject">
                </div>

                <app-blog-content [content]="''" formControlName="content"
                    class="w-full h-40 overflow-y-auto px-3 py-2 mt-1 border rounded-lg focus:ring focus:ring-blue-300"></app-blog-content>
            </form>


        </div>

        <!-- Modal Footer -->
        <div class="flex justify-end px-6 py-4 border-t">
            <button (click)="closePriceModal()"
                class="px-4 py-2 mr-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300">
                Hủy
            </button>
            <button (click)="sendMail()" class="px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">
                Gửi
            </button>
        </div>
    </div>

</div>

